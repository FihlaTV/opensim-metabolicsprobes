<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>OpenSim Documentation : Joint Reactions Analysis</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body>
        <div id="page">
            <div id="main">
                <div id="main-header" class="pageSectionHeader">
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            OpenSim Documentation : Joint Reactions Analysis
                        </span>
                    </h1>

                    <div class="page-metadata">
                        <p>This page last changed on Jan 07, 2013 by <font color="#0050B2">jenhicks</font>.</p>
                    </div>
                </div>

                <div id="content" class="view">
                    <div id="main-content" class="wiki-content group">
                    <p>The topics covered in this section include:</p><p><div>
<ul>
    <li><a href='#JointReactionsAnalysis-Overview'>Overview</a></li>
    <li><a href='#JointReactionsAnalysis-Input'>Input</a></li>
    <li><a href='#JointReactionsAnalysis-Output'>Output</a></li>
    <li><a href='#JointReactionsAnalysis-BestPracticesandTroubleshootingTips'>Best Practices and Troubleshooting Tips</a></li>
    <li><a href='#JointReactionsAnalysis-JointReactionsvsInverseDynamics'>Joint Reactions vs Inverse Dynamics</a></li>
</ul></div></p><h2 id="JointReactionsAnalysis-Overview">Overview</h2><p>JointReaction is an OpenSim Analysis for calculating resultant forces and moments at joint.  Specifically, it calculates the joint forces and moments transferred between consecutive bodies as a result of all loads acting on the model. These forces and moments correspond to the internal loads carried by the joint structure. These loads represent the contributions of all un-modeled joint structures that would produce the desired joint kinematics, such as cartilage contact and any omitted ligaments. The reaction load acts at the joint center (mobilizer frame) of both the parent and child bodies. The loads can be reported and expressed in either the child, parent, or ground frames. The default behavior is to express the force on the child in the ground frame. For more detailed description of the method implementation see <em>Tibiofemoral Contact Force during Crouch Gait</em> (Steele et al, in review).</p><p>In this section, we provide a conceptual review of the inputs and outputs for a JointReaction Analysis along with a set of troubleshooting tips and best practices. Running an Analysis like JointReaction is covered in detail in the <a href="How%2Bto%2BUse%2Bthe%2BAnalysis%2BTool.html">How to Use the Analysis Tool</a> section.</p><h2 id="JointReactionsAnalysis-Input">Input</h2><p>Inputs Specific to JointReaction:</p><ol><li><span style="color: rgb(0,0,255);">joint_names:</span> List of the names of the joints of interest. JointReaction reports loads for only listed joints that exist in the model. Joint names may be repeated any number of times to allow reporting on different bodies or with respect to different reference frames. Using the keyword 'all' reports the loads for all joints in the model. Default is 'all'.</li><li><span style="color: rgb(0,0,255);">apply_on_bodies</span>: List of the body (parent or child) on which the corresponding reaction occurred. If the array has only one entry, that selection is applied to all joints specified in joint_names. The default is 'child'.</li><li><span style="color: rgb(0,0,255);">express_in_frame</span>: List of the frames (ground, parent, or child) in which the corresponding reaction is expressed. If the array has only one entry, that selection is applied to all joints specified in joint_names.</li><li><span style="color: rgb(0,0,255);">forces_file</span>: The name of a file containing forces storage. If a file name is provided, the applied forces for all actuators will be constructed from the forces_file instead of from the states. This option should be used to calculate joint loads from static optimization results.</li></ol><h2 id="JointReactionsAnalysis-Output">Output</h2><p>JointReaction prints results to one storage file with the suffix &quot;_ReactionLoads.sto&quot;. This file contains rows of time-stamped data containing the 3 force and 3 moment vector components of the reaction load at each joint specified. Each data column label includes all information about how the load is applied and expressed. Specifically, the form is <br />&lt; joint name &gt;<em>on</em>&lt;body&gt;<em>in</em>&lt;frame&gt;_&lt;component&gt;. </p><p>For example, the column containing the z-component of hip force occurring on the femur and expressed in the femur frame would be labeled &quot;hip_on_femur_in_femur_FX&quot; while the y-component of the knee moment occurring on the tibia and expressed in the ground frame would have the label &quot;knee_on_tibia_in_ground_MY&quot;. </p><h2 id="JointReactionsAnalysis-BestPracticesandTroubleshootingTips">Best Practices and Troubleshooting Tips</h2><p><ol><li>If JointReaction doesn't recognize a specified joint, body, or frame name, it will perform its default action. The overall default action is to report the loads on all joints as applied to the joint's child body and expressed in the ground reference frame. </li><li><em>Consistency of modeling inputs to the Analyze tool:</em> The validity of the joint loads depends on modeling assumptions and correct modeling practices. JointReaction is very sensitive to the consistency of all inputs that define a dynamic trial, including the following inputs to the Analyze Tool: &lt;model_file&gt;, &lt;replace_force_set&gt;, &lt;force_set_files&gt;, &lt;states_file&gt;, &lt;coordinates_file&gt;, &lt;speeds_file&gt;, &lt;lowpass_cutoff_frequency_for_coordinates&gt;,&lt;external_loads_file&gt;, &lt;external_loads_model_kinematics_file&gt;, &lt;lowpass_cuttoff_frequency_for_load_kinematics&gt;</li><li>If any of these files are not associated with the same dynamic trial, the system of accelerations and forces will not be consistent. Therefore, JointReaction will calculate incorrect joint loads. </li><li><em>Special Types of Forces:</em> Certain types of forces and actuators, called SpringGeneralizedForce, CoordinateLimitForce, and CoordinateActuator, are associated with specific degrees of freedom and treated as part of the joint structure. This means that any contribution from these components will be treated as part of the resultant loads reported by JointReaction instead of body forces. As an example, consider a reserve actuator on the hip joint of a gait model. If this reserve actuator is defined as a CoordinateActuator, its contribution is treated as a residual force provided by the joint and therefore will be added to the resultant load at the hip. However, if the hip reserve is defined as a TorqueActuator, its torque will be treated as a motor external to the joint and attached between the pelvis and femur. Therefore, its torque will not be added to the reported resultant load at the hip.</li></ol></p><h2 id="JointReactionsAnalysis-JointReactionsvsInverseDynamics">Joint Reactions vs Inverse Dynamics</h2><p>Users should be aware of the differences between Inverse Dynamics calculations and Joint Reaction calculations:</p><ul><li>Inverse Dynamics calculates the net generalized forces at all degrees of freedom in the model. These generalized forces only account for the model motion and applied external forces.  Inverse Dynamics ignores the contribution of muscles, motors, and all other actuators when calculating new generalized forces at each joint.  </li><li>The JointReaction analysis calculates the resultant forces and moments the joint structure caries in response to all motions and forces in the model, including muscles, motors, and all other actuators.  </li></ul><p>To illustrate the difference, let's consider the hip joint, which is modeled as a ball and socket and actuated by muscles. This joint allows three rotations, but prohibits translations.</p><ul><li>Inverse Dynamics will report the net torques (generalized forces for the hip) that the muscles must overcome. </li><li>JointReaction will report the vector of compressive forces that the hip caries to prevent translation of the ball through the socket.  JointReaction will report zero for all hip torques because the ball and socket can not produce torques or resist rotation. The only exception would occur if Coordinate Limit Forces or Coordinate Actuators were applied at the hip.  These are interpreted as part of the joint structure that act along the generalized coordinate direction, and JointReaction will include their contribution as part of the resultant joint load.  </li></ul><p> </p><div class="panel" style="background-color: white;border-color: gray;border-style: solid;border-width: 5px;"><div class="panelContent" style="background-color: white;">
<p>Next: <a href="Probes.html">Probes</a></p>
</div></div>
                    </div>

                    
                                                      
                </div>             </div> 
            <div id="footer" style="background: url(http://simtk-confluence.stanford.edu:8080/images/border/border_bottom.gif) repeat-x;">
                <p><small>Document generated by Confluence on Feb 24, 2014 09:28</small></p>
            </div>
        </div>     </body>
</html>
