<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>OpenSim Documentation : Measurement-Based Scaling</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body>
        <div id="page">
            <div id="main">
                <div id="main-header" class="pageSectionHeader">
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            OpenSim Documentation : Measurement-Based Scaling
                        </span>
                    </h1>

                    <div class="page-metadata">
                        <p>This page last changed on Mar 29, 2013 by <font color="#0050B2">jenhicks</font>.</p>
                    </div>
                </div>

                <div id="content" class="view">
                    <div id="main-content" class="wiki-content group">
                    <p>The topics covered in this section include:</p><p><div>
<ul>
    <li><a href='#Measurement-BasedScaling-applyTag'>&lt;apply&gt; Tag</a></li>
    <li><a href='#Measurement-BasedScaling-SpecifyingMarkerPairsUsedtoComputeaScaleFactor'>Specifying Marker Pairs Used to Compute a Scale Factor</a></li>
    <li><a href='#Measurement-BasedScaling-SpecifyingBodiestoBeScaled'>Specifying Bodies to Be Scaled</a></li>
</ul></div></p><p>The measurement-based scaling set contains pairs of experimental markers, the distance between which are used to scale the generic musculoskeletal model. The experimental measurements used for scaling are specified in the example below<span style="color: rgb(0,0,255);"><strong>:</strong></span></p><p><strong>Example</strong><strong>: XML markup for a measurement-based scaling set</strong></p><div class="code panel" style="border-width: 1px;"><div class="codeHeader panelHeader" style="border-bottom-width: 1px;"><b>gait2354_Scale_MeasurementSet</b></div><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: html/xml; gutter: false">&lt;MeasurementSet name="gait2354"&gt; 

  &lt;objects&gt; 

    &lt;!– . . additional &lt;Measurement&gt; tags cut for brevity . . –&gt; 

    &lt;Measurement name="thigh"&gt; 

      &lt;apply&gt; true &lt;/apply&gt; 

      &lt;MarkerPairSet&gt; 
        &lt;objects&gt; 
          &lt;MarkerPair&gt; 
            &lt;markers&gt; R.ASIS R.Knee.Lat &lt;/markers&gt; 
          &lt;/MarkerPair&gt; 
          &lt;MarkerPair&gt; 
            &lt;markers&gt; L.ASIS L.Knee.Lat &lt;/markers&gt; 
          &lt;/MarkerPair&gt; 
        &lt;/objects&gt; 
      &lt;/MarkerPairSet&gt; 

      &lt;BodyScaleSet&gt; 
         &lt;objects&gt; 
          &lt;BodyScale name="femur_r"&gt; 
            &lt;axes&gt; X Y Z &lt;/axes&gt; 
          &lt;/BodyScale&gt; 
          &lt;BodyScale name="femur_l"&gt; 
            &lt;axes&gt; X Y Z &lt;/axes&gt; 
          &lt;/BodyScale&gt; 
          &lt;BodyScale name="patella_r"&gt; 
            &lt;axes&gt; X Y Z &lt;/axes&gt; 
          &lt;/BodyScale&gt; 
          &lt;BodyScale name="patella_l"&gt; 
            &lt;axes&gt; X Y Z &lt;/axes&gt; 
          &lt;/BodyScale&gt; 
        &lt;/objects&gt; 
      &lt;/BodyScaleSet&gt; 

    &lt;/Measurement&gt; 

    &lt;!– . . additional &lt;Measurement&gt; tags cut for brevity . . –&gt; 

  &lt;/objects&gt; 
&lt;/MeasurementSet&gt;</pre>
		</div>
</div></div><p> </p><p style="display: inline;">The <span style="color: rgb(0,0,255);">&lt;</span><span style="color: rgb(128,0,0);">MeasurementSet</span><span style="color: rgb(0,0,255);">&gt;</span> tag specifies a set of <span style="color: rgb(0,0,255);">&lt;</span><span style="color: rgb(128,0,0);">Measurement</span><span style="color: rgb(0,0,255);">&gt;</span> objects. Each set of <span style="color: rgb(0,0,255);">&lt;</span><span style="color: rgb(128,0,0);">Measurement</span><span style="color: rgb(0,0,255);">&gt;</span> tags lists the marker pairs that go into computing the scale factor, and all the bodies to which this scale factor will be applied. When defining the bodies, the axes to scale along are also defined. Details about specifying the marker pairs and the bodies are given below.</p><h2 id="Measurement-BasedScaling-applyTag">&lt;apply&gt; Tag</h2><p>The <span style="color: rgb(0,0,255);">&lt;</span><span style="color: rgb(128,0,0);">apply</span><span style="color: rgb(0,0,255);">&gt;</span> property of <span style="color: rgb(0,0,255);">&lt;</span><span style="color: rgb(128,0,0);">Measurement</span><span style="color: rgb(0,0,255);">&gt;</span> is used to specify whether a measurement is enabled or not, and takes on the values of either <span style="color: rgb(0,128,0);"><strong>true</strong></span> or <span style="color: rgb(0,128,0);"><strong>false</strong></span>. It is <span style="color: rgb(0,128,0);"><strong>true</strong></span> by default and so can typically be omitted.</p><h2 id="Measurement-BasedScaling-SpecifyingMarkerPairsUsedtoComputeaScaleFactor">Specifying Marker Pairs Used to Compute a Scale Factor</h2><p>The list of marker pairs is enclosed in a <span style="color: rgb(0,0,255);">&lt;</span><span style="color: rgb(128,0,0);">MarkerPairSet</span><span style="color: rgb(0,0,255);">&gt;</span> tag, each pair being given in a <span style="color: rgb(0,0,255);">&lt;</span><span style="color: rgb(128,0,0);">MarkerPair</span><span style="color: rgb(0,0,255);">&gt;</span> object that is defined by the <span style="color: rgb(0,0,255);">&lt;</span><span style="color: rgb(128,0,0);">markers</span><span style="color: rgb(0,0,255);">&gt;</span> tag. Each set of <span style="color: rgb(0,0,255);">&lt;</span><span style="color: rgb(128,0,0);">markers</span><span style="color: rgb(0,0,255);">&gt;</span> tags provides the names of two markers. In the example, two marker pairs are given. Recall from <a href="How%2BScaling%2BWorks.html">How Scaling Works</a> that this means that the final scale factor will be computed by averaging the scale factors determined by each individual pair.</p><h2 id="Measurement-BasedScaling-SpecifyingBodiestoBeScaled">Specifying Bodies to Be Scaled</h2><p>The list of bodies to be scaled using the scale factors determined by the marker-pair-measurements is given in a <span style="color: rgb(0,0,255);">&lt;</span><span style="color: rgb(128,0,0);">BodyScaleSet</span><span style="color: rgb(0,0,255);">&gt;</span> tag, with each <span style="color: rgb(0,0,255);">&lt;</span><span style="color: rgb(128,0,0);">BodyScale</span><span style="color: rgb(0,0,255);">&gt;</span> specifying the body through its <span style="color: rgb(255,0,0);"><strong>name</strong></span> attribute.</p><p>The <span style="color: rgb(0,0,255);">&lt;</span><span style="color: rgb(128,0,0);">axes</span><span style="color: rgb(0,0,255);">&gt;</span> tag indicates the axis/axes along which to scale and can take on the values X, Y, and/or Z. In the above example, the femur and patella on both sides of the body (r = right, l = left) will be uniformly scaled in the X, Y, and Z directions using these measurement-based scale factors.</p><p> </p><div class="panel" style="background-color: white;border-color: gray;border-style: solid;border-width: 5px;"><div class="panelContent" style="background-color: white;">
<p>Next: <a href="Inverse%2BKinematics%2BTasks%2Bfor%2BScale.html">Inverse Kinematics Tasks for Scale</a></p><p>Previous: <a href="Manual%2BScaling%2BFactors.html">Manual Scaling Factors</a></p><p>Home: <a href="Scaling.html">Scaling</a></p>
</div></div>
                    </div>

                    
                                                      
                </div>             </div> 
            <div id="footer" style="background: url(http://simtk-confluence.stanford.edu:8080/images/border/border_bottom.gif) repeat-x;">
                <p><small>Document generated by Confluence on Feb 24, 2014 09:27</small></p>
            </div>
        </div>     </body>
</html>
