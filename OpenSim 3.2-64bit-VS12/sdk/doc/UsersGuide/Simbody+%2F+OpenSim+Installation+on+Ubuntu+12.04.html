<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>OpenSim Documentation : Simbody / OpenSim Installation on Ubuntu 12.04</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body>
        <div id="page">
            <div id="main">
                <div id="main-header" class="pageSectionHeader">
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            OpenSim Documentation : Simbody / OpenSim Installation on Ubuntu 12.04
                        </span>
                    </h1>

                    <div class="page-metadata">
                        <p>This page last changed on Jun 30, 2013 by <font color="#0050B2">tkuchida</font>.</p>
                    </div>
                </div>

                <div id="content" class="view">
                    <div id="main-content" class="wiki-content group">
                    <p>Here, we describe how to install Simbody and OpenSim on Ubuntu 12.04. These instructions have been provided by Gerald Brantner, the author of <a href="http://simtk-confluence.stanford.edu:8080/display/OpenSim/Interactive+Operational-Space+Controller+for+OpenSim">Interactive Operational-Space Controller for OpenSim</a>.</p><p><div>
<ul>
    <li><a href='#SimbodyOpenSimInstallationonUbuntu1204-InstallSimbody'>Install Simbody</a></li>
    <li><a href='#SimbodyOpenSimInstallationonUbuntu1204-InstallOpenSim'>Install OpenSim</a></li>
    <li><a href='#SimbodyOpenSimInstallationonUbuntu1204-Setupacustomapp'>Set up a custom app</a></li>
    <li><a href='#SimbodyOpenSimInstallationonUbuntu1204-Additionaladvice'>Additional advice</a></li>
</ul></div></p><h2 id="SimbodyOpenSimInstallationonUbuntu1204-InstallSimbody">Install Simbody</h2><p>1. Download Simbody 3.0 source from here: <a href="https://simtk.org/project/xml/downloads.xml?group_id=91" class="external-link" rel="nofollow">https://simtk.org/project/xml/downloads.xml?group_id=91</a>.</p><p>2. Create the following folder structure (as an example; choose your own preferred structure):<br />Desktop → Sim → Simbody → Simbody3.0-Source + build_rel + build_dbg<br /><br /></p><div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: bash; gutter: false">cd Desktop
mkdir Sim
cd Sim
mkdir Simbody
cd Simbody</pre>
		</div>
</div></div><p>Copy downloaded Simbody source and rename folder to Simbody3.0-Source.<br /><br /></p><div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: bash; gutter: false">mkdir build_rel
mkdir build_dbg</pre>
		</div>
</div></div><p> </p><p>3. Install Simbody; see additional instructions here: <a href="https://simtk.org/docman/view.php/47/1583/HowToBuildSimbodyFromSource_MacLinux.pdf" class="external-link" rel="nofollow">https://simtk.org/docman/view.php/47/1583/HowToBuildSimbodyFromSource_MacLinux.pdf</a>.<br /><br /></p><div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: bash; gutter: false">sudo apt-get install freeglut3-dev
sudo apt-get install libxi-dev
sudo apt-get install libxmu-dev
sudo apt-get install liblapack-dev
sudo apt-get install libblas-dev</pre>
		</div>
</div></div><div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: bash; gutter: false">cd build_rel
ccmake ../Simbody3.0-Source</pre>
		</div>
</div></div><p>press c<br />press c<br />press g</p><div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: bash; gutter: false">cd build_dbg
ccmake ../Simbody3.0-Source</pre>
		</div>
</div></div><p>press c<br />change CMAKE_BUILD_TYPE to Debug<br />press c<br />press g<br /><br /></p><div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: bash; gutter: false">make
make test
./ExamplePendulum</pre>
		</div>
</div></div><div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: bash; gutter: false">make doxygen
sudo make install</pre>
		</div>
</div></div><div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: bash; gutter: false">cd build_rel
make -j2
sudo make install</pre>
		</div>
</div></div><p><br />Make sure to note your install path from the ccmake gui: /usr/local/SimTK (by standard)</p><h2 id="SimbodyOpenSimInstallationonUbuntu1204-InstallOpenSim">Install OpenSim</h2><p>4. Create the following folder structure:</p><p>Desktop → Sim → OpenSim → build_rel + build_dbg</p><div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: bash; gutter: false">cd Sim
mkdir OpenSim
cd OpenSim
mkdir build_rel
mkdir build_dbg</pre>
		</div>
</div></div><p> </p><p>5. Download OpenSim 3.0.1 source and copy folder OpenSim-3.0.1-source to Desktop/Sim/OpenSim<br /><a href="https://simtk.org/project/xml/downloads.xml?group_id=91" class="external-link" rel="nofollow">https://simtk.org/project/xml/downloads.xml?group_id=91</a></p><p> </p><p>6. Install OpenSim (ccmake, build, test, and install, similar to Step 3).</p><p>Debug first, change the following settings in ccmake:</p><p>CMAKE_BUILD_TYPE = Debug<br />CMAKE_INSTALL_PREFIX = /usr/local/OpenSim (! Do NOT install in /usr/local as by standard !)<br />SimTK_INSTALL_DIR = /usr/local/SimTK (make sure to specify the path you noted earlier)<br />BUILD_USING_OTHER_LAPACK = lapack; blas</p><div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: bash; gutter: false">cd build_dbg
ccmake ../OpenSim-3.0.1-source
make
sudo make install</pre>
		</div>
</div></div><p>Release second, change the following settings in ccmake:</p><p>CMAKE_BUILD_TYPE = Release<br />CMAKE_INSTALL_PREFIX = /usr/local/OpenSim (! Do NOT install in /usr/local as by standard !)<br />SimTK_INSTALL_DIR = /usr/local/SimTK (make sure to specify the path you noted earlier)<br />BUILD_USING_OTHER_LAPACK = lapack; blas</p><div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: bash; gutter: false">cd build_rel
ccmake ../OpenSim-3.0.1-source
make
sudo make install</pre>
		</div>
</div></div><p>Installation DONE</p><h2 id="SimbodyOpenSimInstallationonUbuntu1204-Setupacustomapp">Set up a custom app</h2><p>Copy folder &quot;/usr/local/OpenSim/sdk/APIExamples/ExampleMain&quot; to &quot;Desktop/Sim/&quot; and rename it to for instance &quot;Open_Sim_MyApp&quot;.</p><p>By default, this app uses namespace &quot;OpenSim_&quot;, which we did not use by default during the installation (ccmake setting). We need to comment the following line in CMakeLists.txt:</p><div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: bash; gutter: false">#SET(NameSpace "OpenSim_" CACHE STRING "Prefix for simtk lib names, includes trailing '_'. Leave empty to use stock SimTK libraries.")</pre>
		</div>
</div></div><p>The app should compile now.</p><h2 id="SimbodyOpenSimInstallationonUbuntu1204-Additionaladvice">Additional advice</h2><p>If you encounter the following error: <br />VisualizerGUI: error while loading shared libraries: libSimTKcommon.so: cannot open shared object file: No such file or directory</p><p>Set the following path:</p><div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: bash; gutter: false">export LD_LIBRARY_PATH=/usr/local/OpenSim/lib
# or your custom path</pre>
		</div>
</div></div><p> </p><p>The Visualizer may not be terminated automatically after the simulation finishes. You need to kill the process manually:</p><div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: bash; gutter: false">top
k
&lt;Visualizer process ID&gt;
enter</pre>
		</div>
</div></div><p> </p><p> </p>
                    </div>

                    
                                                      
                </div>             </div> 
            <div id="footer" style="background: url(http://simtk-confluence.stanford.edu:8080/images/border/border_bottom.gif) repeat-x;">
                <p><small>Document generated by Confluence on Feb 24, 2014 09:27</small></p>
            </div>
        </div>     </body>
</html>
