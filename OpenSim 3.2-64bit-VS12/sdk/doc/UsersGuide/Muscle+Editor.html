<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>OpenSim Documentation : Muscle Editor</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body>
        <div id="page">
            <div id="main">
                <div id="main-header" class="pageSectionHeader">
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            OpenSim Documentation : Muscle Editor
                        </span>
                    </h1>

                    <div class="page-metadata">
                        <p>This page last changed on Oct 10, 2012 by <font color="#0050B2">jenhicks</font>.</p>
                    </div>
                </div>

                <div id="content" class="view">
                    <div id="main-content" class="wiki-content group">
                    <p>The Muscle Editor gives you access to all of the parameters of the muscles and other actuators in the model. The paths of the muscles can be altered by selecting and moving attachment points in the 3D View window, and the force-generating parameters can be viewed and modified in the Properties window.  The topics covered in this chapter include:</p><p><div>
<ul>
    <li><a href='#MuscleEditor-SelectingModelsandMuscles'>Selecting Models and Muscles</a></li>
    <li><a href='#MuscleEditor-MusclePathsandMusclePoints'>Muscle Paths and Muscle Points</a></li>
    <li><a href='#MuscleEditor-PathEditor'>Path Editor</a></li>
<ul>
    <li><a href='#MuscleEditor-AttachmentPanelAttachments'><span class="confluence-anchor-link" id="MuscleEditor-AttachmentPanel" />Attachments</a></li>
    <li><a href='#MuscleEditor-WrappingWrappingPanel'><span class="confluence-anchor-link" id="MuscleEditor-Wrapping" />Wrapping Panel</a></li>
    <li><a href='#MuscleEditor-BackingUpRestoring'><span class="confluence-anchor-link" id="MuscleEditor-BackingUp" />Restoring</a></li>
</ul>
    <li><a href='#MuscleEditor-EditingAttachmentPoints'>Editing Attachment Points</a></li>
<ul>
    <li><a href='#MuscleEditor-SelectSelectingAttachmentPoints'><span class="confluence-anchor-link" id="MuscleEditor-Select" />Selecting Attachment Points</a></li>
    <li><a href='#MuscleEditor-Toc174781266MovingAttachmentPoints'><span class="confluence-anchor-link" id="MuscleEditor-Toc174781266" />Moving Attachment Points</a></li>
    <li><a href='#MuscleEditor-Toc174781267AddingandDeletingAttachmentPoints'><span class="confluence-anchor-link" id="MuscleEditor-Toc174781267" />Adding and Deleting Attachment Points</a></li>
</ul>
    <li><a href='#MuscleEditor-EllipsoidWrappingAlgorithms'>Ellipsoid Wrapping Algorithms</a></li>
<ul>
    <li><a href='#MuscleEditor-HybridWrappingMethod'>Hybrid Wrapping Method</a></li>
    <li><a href='#MuscleEditor-MidpointWrappingMethod'>Midpoint Wrapping Method</a></li>
    <li><a href='#MuscleEditor-AxialWrappingMethod'>Axial Wrapping Method</a></li>
</ul>
</ul></div></p><h2 id="MuscleEditor-SelectingModelsandMuscles">Selecting Models and Muscles</h2><p>As described in the section on Property editing, you can select muscles for editing by either selecting the corresponding nodes in the Navigator window (you may need to expand the nodes for the top level model, Forces, Muscles, all) to see the nodes corresponding to individual muscles in the model as shown below. You can also select muscles in the 3D view window.</p><p> </p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="nohighlight confluenceTh"><img class="confluence-embedded-image" src="attachments/3376206/3737242.png" data-image-src="attachments/3376206/3737242.png"></th><th class="nohighlight confluenceTh"><p><em>Using the Navigator Window</em></p><ul><li>Expand the tree for the model to access the muscle of interest.<br /><ul><li>You can do this by clicking on the <strong>plus (+)</strong> sign next to the name of the current model to display the model components. </li><li>Next, click on the <strong>plus (+)</strong> sign next to <strong>Forces.</strong></li><li>If the muscles in your model are organized into groups, then click on the <strong>plus (+)</strong> sign next to <strong>Muscles</strong> to display the list of muscle groups. <span style="color: rgb(0,0,0);">Expand the group of the muscle you want to edit by clicking on the </span><strong>plus (+)</strong><span style="color: rgb(0,0,0);"> sign next to the group name.</span></li><li>If the muscles in your model are not organized into groups, you will see a list of the muscles instead of groups.</li></ul></li></ul><ul><li><strong>Click</strong> on the name of the muscle and its properties will show in the &quot;Properties&quot; window.</li></ul><p><em><br /></em></p><p><em>Using the 3D View Window</em></p><ul><li>Although muscle segments are not selectable in the 3D view, muscle points are selectable. </li><li>To select a muscle, you can one of its attachment or other points. Then muscle associated with that muscle point will be selected in the Navigator window. Its properties will be shown in the &quot;Properties&quot; window. </li><li>To pick any object in the 3D view it must belong to the current model, please consult the section <a href="Opening%252C%2BClosing%252C%2Band%2BUsing%2Bthe%2BNavigator%2BWindow.html">Opening, Closing, and Using the Navigator Window</a> for more information on how to make a model current.</li></ul><p> </p><p> </p><p> </p><p> </p><p> </p></th></tr></tbody></table></div><h2 id="MuscleEditor-MusclePathsandMusclePoints">Muscle Paths and Muscle Points</h2><p>The path of a muscle is defined by a series of attachment points. In the simplest case, each attachment point is fixed to a body, and the path of the muscle is the set of straight lines connecting each pair of adjacent points. These attachment points are called <em>fixed points</em>.</p><p>There are three other types of muscle points that can be used to define a muscle path. <em>Via points</em> are attachment points that are fixed to a body, but they are used in the muscle path only when a specified coordinate is in a certain range. These points can be used to implement simple cases of wrapping, such as the quadriceps wrapping over the distal femur when the knee flexes beyond a certain angle.</p><p>Another type of attachment point is called a <em>moving muscle point</em>. These are points whose X, Y, and/or Z offsets in a body's reference frame are functions of coordinates, rather than simple constants. This type of point is useful when you want the muscle path to move as a joint flexes, but wrap objects are not suitable for implementing the proper motion.</p><p>The last type of attachment point is a <em>wrap point</em>.  Wrap points are attachment points whose XYZ offsets are calculated automatically by OpenSim in order to wrap a muscle over the surface of a wrap object. Wrap objects are geometric shapes (spheres, ellipsoids, cylinders, and torii) that you can use to constrain the paths of the muscles. When the straight-line path of a muscle intersects a wrap object, an algorithm calculates a new path between the two points that wraps smoothly over the object. To define the new path, two wrap points are introduced: one at the tangent point where the path initiates contact with the object, and one at the tangent point where the path breaks contact. The muscle path between these two wrap points is a curved path that follows the surface of the object.</p><h2 id="MuscleEditor-PathEditor">Path Editor</h2><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="nohighlight confluenceTh"><img class="confluence-embedded-image" src="attachments/3376206/3737241.png" data-image-src="attachments/3376206/3737241.png"></th><th class="nohighlight confluenceTh"><p>The Geometry Path of a muscle is a representation of the muscle's line of action. This is a &quot;Property&quot; of all the muscles in OpenSim, as such it shows as an entry in the Properties window as shown above. If you click the <strong>... Button</strong> next to the <strong>GeometryPath</strong> in the Properties window, the dialog at left will appear.</p><ul><li><p>The <a href="Muscle%2BEditor.html">Attachment Panel</a>, displays the fixed, via, and moving muscle points that define the muscle path. </p></li><li><p>The <a href="Muscle%2BEditor.html">Wrapping Panel</a> displays the list of wrap objects that are currently associated with the muscle. </p></li></ul></th></tr></tbody></table></div><h3 id="MuscleEditor-AttachmentPanelAttachments"><span class="confluence-anchor-link" id="MuscleEditor-AttachmentPanel"></span>Attachments</h3><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="nohighlight confluenceTh"><img class="confluence-embedded-image" src="attachments/3376206/3737243.png" data-image-src="attachments/3376206/3737243.png"></th><th class="nohighlight confluenceTh" colspan="1"><p>The <em>Attachments</em> panel gives you access to all of the fixed, via, and moving muscle points that define the path of the muscle.</p><p>The table below has more information about each column of information in this panel.</p></th></tr></tbody></table></div><p><span style="color: rgb(0,0,0);"><br /></span></p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="nohighlight confluenceTh"><p>1.</p><p>2.</p><p>....</p></th><th class="nohighlight confluenceTh"><strong><span>&lt;muscle point index&gt;</span></strong><span style="color: rgb(0,0,0);"> </span><span style="color: rgb(0,0,128);">–</span><span style="color: rgb(0,0,0);"> the index of the attachment point, corresponding to the numbers in the Attachment panel shown at left. This index is used by the Add and Delete buttons, described below, as well as the start point and end point parameters for wrapping. These indices do not change when via points turn on or off or when wrapping points are added to the path. They change only when you add or delete fixed, via, or moving attachment points.</span></th></tr><tr><td style="text-align: right;" class="confluenceTd"><img class="confluence-embedded-image" src="attachments/3376206/3737240.png" data-image-src="attachments/3376206/3737240.png"></td><td style="text-align: right;" class="confluenceTd"><strong>Sel</strong><span style="color: rgb(0,0,0);"> </span><span style="color: rgb(0,0,128);">–</span><span style="color: rgb(0,0,0);"> this checkbox indicates whether or not the muscle point is selected in the model window. Selected attachment points can be dragged to new locations using the mouse.</span></td></tr><tr><td style="text-align: right;" class="confluenceTd"><img class="confluence-embedded-image" src="attachments/3376206/3737239.png" data-image-src="attachments/3376206/3737239.png"></td><td class="confluenceTd"><strong>Type</strong><span style="color: rgb(0,0,0);"> </span><span style="color: rgb(0,0,128);">–</span><span style="color: rgb(0,0,0);"> the type of the attachment point: fixed, via, or moving. Fixed points are points whose XYZ offsets are fixed in a body's reference frame. Via points are points that are fixed to a body, but they are used in the muscle path only when a specified coordinate is in a certain range. Moving muscle points are points whose X, Y, and/or Z offsets in a body's reference frame are functions of coordinates, rather than simple constants.</span></td></tr><tr><td style="text-align: right;" class="confluenceTd"><img class="confluence-embedded-image" src="attachments/3376206/3737236.png" data-image-src="attachments/3376206/3737236.png"></td><td class="confluenceTd"><strong>X</strong><span style="color: rgb(0,0,0);"> </span><span style="color: rgb(0,0,128);">–</span><span style="color: rgb(0,0,0);"> the X offset of the attachment point in the body's reference frame. For fixed and via points, this offset is a constant. You can change the value by clicking in the number field and entering a new value. For moving muscle points, the offset is a function of a coordinate, rather than a constant. To edit the function, click the </span><strong>Edit</strong><span style="color: rgb(0,0,0);"> button to display it in the Function Editor window.</span></td></tr><tr><td style="text-align: right;" class="confluenceTd"><img class="confluence-embedded-image" src="attachments/3376206/3737238.png" data-image-src="attachments/3376206/3737238.png"></td><td class="confluenceTd"><strong>Y</strong><span style="color: rgb(0,0,0);"> </span><span style="color: rgb(0,0,128);">–</span><span style="color: rgb(0,0,0);"> the Y offset of the attachment point in the body's reference frame. For fixed and via points, this offset is a constant. You can change the value by clicking in the number field and entering a new value. For moving muscle points, the offset is a function of a coordinate, rather than a constant. To edit the function, click the </span><strong>Edit</strong><span style="color: rgb(0,0,0);"> button to display it in the Function Editor window.</span></td></tr><tr><td style="text-align: right;" class="confluenceTd"><img class="confluence-embedded-image" src="attachments/3376206/3737237.png" data-image-src="attachments/3376206/3737237.png"></td><td class="confluenceTd"><strong>Z</strong><span style="color: rgb(0,0,0);"> </span><span style="color: rgb(0,0,128);">–</span><span style="color: rgb(0,0,0);"> the Z offset of the attachment point in the body's reference frame. For fixed and via points, this offset is a constant. You can change the value by clicking in the number field and entering a new value. For moving muscle points, the offset is a function of a coordinate, rather than a constant. To edit the function, click the </span><strong>Edit</strong><span style="color: rgb(0,0,0);"> button to display it in the Function Editor window.</span></td></tr><tr><td style="text-align: right;" class="confluenceTd"><img class="confluence-embedded-image" src="attachments/3376206/3737235.png" data-image-src="attachments/3376206/3737235.png"></td><td class="confluenceTd"><strong>Body</strong><span style="color: rgb(0,0,0);"> </span><span style="color: rgb(0,0,128);">–</span><span style="color: rgb(0,0,0);"> the body to which the muscle point is attached.</span></td></tr><tr><td style="text-align: right;" class="confluenceTd"><img class="confluence-embedded-image" src="attachments/3376206/3737234.png" data-image-src="attachments/3376206/3737234.png"></td><td class="confluenceTd"><strong>Coordinate</strong><span style="color: rgb(0,0,0);"> </span><span style="color: rgb(0,0,128);">–</span><span style="color: rgb(0,0,0);"> For via points, this is the coordinate that controls whether or not the point is included in the muscle path (active). The point is active only when the coordinate is between the specified minimum (Min) and maximum (Max) values.</span></td></tr><tr><td style="text-align: right;" class="confluenceTd"><img class="confluence-embedded-image" src="attachments/3376206/3737233.png" data-image-src="attachments/3376206/3737233.png"></td><td class="confluenceTd"><strong>Min</strong><span style="color: rgb(0,0,0);"> </span><span style="color: rgb(0,0,128);">–</span><span style="color: rgb(0,0,0);"> For via points, the lower bound of coordinate values for which the point is active. If the coordinate has a value that is below this minimum, the attachment point is not included in the path of the muscle.</span></td></tr><tr><td style="text-align: right;" class="confluenceTd"><img class="confluence-embedded-image" src="attachments/3376206/3737232.png" data-image-src="attachments/3376206/3737232.png"></td><td class="confluenceTd"><strong>Max</strong><span style="color: rgb(0,0,0);"> </span><span style="color: rgb(0,0,128);">–</span><span style="color: rgb(0,0,0);"> For via points, the upper bound of coordinate values for which the point is active. If the coordinate has a value that is above this maximum, the attachment point is not included in the path of the muscle.</span></td></tr></tbody></table></div><p> </p><h3 id="MuscleEditor-WrappingWrappingPanel"><span class="confluence-anchor-link" id="MuscleEditor-Wrapping"></span>Wrapping Panel</h3><p>The <em>Wrapping</em> panel shows the wrap objects that are currently associated with the muscle, and provides an interface for adding, deleting, and modifying these associations. When more than one wrap object is associated with a muscle, the order in which the objects are applied to the muscle is the order in which they are listed in the <em>Wrapping</em> panel. In many cases, the ordering of wrap objects does not affect the resulting path of the muscle, but when the objects are close to or intersect each other, changing the order may change the muscle path.</p><p>To move a wrap object up in the order, click on the blue up arrow to the far left of the object's name. To move it down in the order, click on the blue down arrow. To delete the association, click on the red &quot;x&quot;. This does not delete the wrap object from the model; it merely removes it from the list of objects applied to this one muscle. To add a wrap object association, click on the blue + sign and choose a wrap object from the drop down menu.</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="nohighlight confluenceTh"><img class="confluence-embedded-image" src="attachments/3376206/3737231.png" data-image-src="attachments/3376206/3737231.png"></th><th class="nohighlight confluenceTh" colspan="1"><span>This panel shows all of the wrap objects that are associated with the muscle. You can add to, delete from, or reorder the list, as well as restrict the wrapping of each object to a subset of the muscle path. For ellipsoid wrap objects, you can also specify the algorithm used to calculate the wrapping path. (This is the TRIlong muscle in arm26 model)</span></th></tr></tbody></table></div><p>The <strong>Start Pt</strong> and <strong>End Pt</strong> parameters let you control which sections of the muscle are allowed to wrap over the wrap object. For example, if Start Pt = 1 and End Pt= 4, then only the segments of the muscle path between the first and fourth attachment points will be checked for possible wrapping over the wrap object. These indices correspond to the indices of the points listed in the <em>Attachments</em> panel. If Start Pt = first, then the starting point will always be the first attachment point in the muscle. Similarly, if End Pt = last, then the ending point will always be the last attachment point. In contrast, if Start Pt = 1, and then you add a new attachment point to the muscle before point 1, Start Pt will automatically be adjusted to 2 so that it still corresponds to the same attachment point in the list. In most cases, you will want to set Start Pt = first and End Pt = last, so that the entire path is checked for possible wrapping. However, for muscles which have more than one wrap object association, or are associated with wrap objects that are constrained (i.e., only half the object is active), it is sometime helpful to restrict the wrapping to a subset of the muscle path.</p><h3 id="MuscleEditor-BackingUpRestoring"><span class="confluence-anchor-link" id="MuscleEditor-BackingUp"></span>Restoring</h3><p>When you modify any element of the GeometryPath, the modification occurs immediately to the muscle stored in the model. You do not need to apply the change to make it happen, nor can you cancel the change before it takes effect. To allow you to undo changes made to the muscles, there is a <strong>Restore</strong> button at the bottom of the Path Editor window that will restore the state of the path to the value when the dialog was opened. </p><h2 id="MuscleEditor-EditingAttachmentPoints">Editing Attachment Points</h2><p><span>The paths of the muscles can be modified by selecting attachment points and moving them to new locations in the reference frames of the bodies to which they are attached. You can select multiple attachment points on multiple muscles and move them at the same time without opening the Path Editor. Fixed points and via points can be selected and moved interactively in the model window. Moving muscle points cannot be selected, but the functions defining their movement can be modified with the Function Editor. Wrap points cannot be selected or moved, because their positions are calculated by the muscle wrapping algorithms.  The topics covered in this section include:</span></p><p><span><div>
<ul>
    <li><a href='#MuscleEditor-SelectingModelsandMuscles'>Selecting Models and Muscles</a></li>
    <li><a href='#MuscleEditor-MusclePathsandMusclePoints'>Muscle Paths and Muscle Points</a></li>
    <li><a href='#MuscleEditor-PathEditor'>Path Editor</a></li>
<ul>
    <li><a href='#MuscleEditor-AttachmentPanelAttachments'><span class="confluence-anchor-link" id="MuscleEditor-AttachmentPanel" />Attachments</a></li>
    <li><a href='#MuscleEditor-WrappingWrappingPanel'><span class="confluence-anchor-link" id="MuscleEditor-Wrapping" />Wrapping Panel</a></li>
    <li><a href='#MuscleEditor-BackingUpRestoring'><span class="confluence-anchor-link" id="MuscleEditor-BackingUp" />Restoring</a></li>
</ul>
    <li><a href='#MuscleEditor-EditingAttachmentPoints'>Editing Attachment Points</a></li>
<ul>
    <li><a href='#MuscleEditor-SelectSelectingAttachmentPoints'><span class="confluence-anchor-link" id="MuscleEditor-Select" />Selecting Attachment Points</a></li>
    <li><a href='#MuscleEditor-Toc174781266MovingAttachmentPoints'><span class="confluence-anchor-link" id="MuscleEditor-Toc174781266" />Moving Attachment Points</a></li>
    <li><a href='#MuscleEditor-Toc174781267AddingandDeletingAttachmentPoints'><span class="confluence-anchor-link" id="MuscleEditor-Toc174781267" />Adding and Deleting Attachment Points</a></li>
</ul>
    <li><a href='#MuscleEditor-EllipsoidWrappingAlgorithms'>Ellipsoid Wrapping Algorithms</a></li>
<ul>
    <li><a href='#MuscleEditor-HybridWrappingMethod'>Hybrid Wrapping Method</a></li>
    <li><a href='#MuscleEditor-MidpointWrappingMethod'>Midpoint Wrapping Method</a></li>
    <li><a href='#MuscleEditor-AxialWrappingMethod'>Axial Wrapping Method</a></li>
</ul>
</ul></div><br /></span></p><h3 id="MuscleEditor-SelectSelectingAttachmentPoints"><span class="confluence-anchor-link" id="MuscleEditor-Select"></span>Selecting Attachment Points</h3><p>There are two methods to select muscle attachment points. The first method operates in the 3D View window. Press the <strong>ctrl</strong> key to enter the selection mode. You will see the cursor change into a small crosshair to indicate that you are in selection mode. Keep the <strong>ctrl</strong> key pressed and <strong>left click</strong> on an attachment point to select it. If you also hold down the <strong>shift</strong> key, you can select multiple attachment points. To unselect all points, press <strong>ctrl</strong> and <strong>left click</strong> on a point away from the model.</p><p>The second method of selecting attachment points is to click on the <strong>Sel</strong> checkbox in the <em>Attachments</em> panel. Choose the muscle whose points you want to select (see <a href="Muscle%2BEditor.html">Selecting Models and Muscles</a> above), and then click on the <em>Attachments</em> tab. Click on the <strong>Sel</strong> box of the desired point(s). </p><p>When an attachment point is selected, it is displayed in yellow on the 3D model, and its name is shown in the text bar at the bottom of the OpenSim window.</p><h3 id="MuscleEditor-Toc174781266MovingAttachmentPoints"><span class="confluence-anchor-link" id="MuscleEditor-Toc174781266"></span>Moving Attachment Points</h3><p>There are two methods for moving muscle attachment points. The first method is to move points interactively in the 3D View window. Select the points you want to move visit <a href="Muscle%2BEditor.html">Selecting Attachment Points</a> for information on how to select attachment points. Move the cursor over any of the selected points, and press the <strong>left mouse</strong> button. While holding the button down, you can drag the attachment points within the plane of the screen. All of the selected points will move the same amount, so it does not matter which one you click on. To move the points in a different plane, release the left mouse button, rotate the model view as desired, and then press the left mouse button on any selected point to resume dragging.</p><p>The second method of moving attachment points is to type their exact XYZ offsets into the number fields in the <em>Attachments</em> panel. For this method, the muscle points do not need to be selected, but you can only modify the attachments of the current muscle. Click on the appropriate X, Y, or Z number field, and type in the desired value. These offsets are expressed in the reference frame of the body to which the point is attached, which is shown just to the right of the Z field. For the moving muscle points, the number fields are replaced by <strong>Edit</strong> buttons. When you click on an <strong>Edit</strong> button, the function for that offset will be displayed in the Function Editor so you can modify it.</p><h3 id="MuscleEditor-Toc174781267AddingandDeletingAttachmentPoints"><span class="confluence-anchor-link" id="MuscleEditor-Toc174781267"></span>Adding and Deleting Attachment Points</h3><p>The <em>Attachments</em> panel contains buttons for adding and deleting muscle attachment points. These are located below the list of current attachments.</p><p>When you click the left mouse button on the <strong>Add</strong> button, a drop down menu is displayed, giving you a choice of where to add the new point. If you add the new point between two existing points, it will be added halfway between the two. If you add the point before the first or after the last point, the new point will be added a short distance away from the appropriate end point. You can then select the point and move it to the desired location, or type its exact XYZ coordinates into the number fields in the <em>Attachments</em> panel.</p><p>To delete an attachment point, click on the <strong>Delete</strong> button and choose the index of the point you want to delete. For both the add and delete functions, the indices shown in the drop down menus are the same as the indices of the muscle points shown in the <em>Attachments</em> panel. They do not depend on whether or not via points are active, and do not take into account any wrap points which may be currently included in the path. </p><h2 id="MuscleEditor-EllipsoidWrappingAlgorithms">Ellipsoid Wrapping Algorithms</h2><p>To overcome numerical instabilities involved with computing the optimal path over the surface of an ellipsoid, OpenSim allows you to choose between three different algorithms for calculating muscle paths over ellipsoidal wrap objects. The hybrid method works well for most muscles. However, if you notice erratic muscle motion (e.g., skips or jumps when wrapping over an ellipsoid), you can often achieve a smooth motion with the midpoint or axial algorithms. </p><h5 id="MuscleEditor-HybridWrappingMethod">Hybrid Wrapping Method</h5><p>The hybrid method determines a wrapping path by computing a weighted average of the results of the midpoint and axial methods, described below. The accuracy of each result is used to determine its contribution to the overall path. In most cases, this results in a smooth transition between the two wrapping methods. Occasionally you may experience an artificial change in slope in plots generated from muscles that use the hybrid wrapping method. This is a side effect of the hybrid method that can occur as the weighting shifts from favoring the midpoint result to favoring the axial result or vice versa. In these cases you will want to switch to either the midpoint or axial method rather than the hybrid.</p><h5 id="MuscleEditor-MidpointWrappingMethod">Midpoint Wrapping Method</h5><p>The midpoint method chooses a wrapping plane (i.e., the plane the muscle path will occupy when wrapped around the ellipsoid) by finding the point on the surface of the ellipsoid closest to the midpoint of the imaginary muscle line passing straight through the ellipsoid. This method produces smooth changes in the wrapping path unless the muscle line through the ellipsoid passes close to the center of the ellipsoid. In this situation the midpoint method becomes numerically unstable, creating erratic jumps in the wrapping path it computes. If you are able to orient your wrap objects such that muscles do not pass near the ellipsoid's center, then the midpoint method will produce well-behaved wrapping paths.</p><h5 id="MuscleEditor-AxialWrappingMethod">Axial Wrapping Method</h5><p>The axial method chooses one of the ellipsoid's principal axes, X, Y, or Z, and then computes a wrapping path based on the point where the imaginary muscle line passing straight through the ellipsoid intersects the plane perpendicular to that axis (i.e., the X=0, Y=0, or Z=0 planes). For example, if the X-axis is chosen, then the intersection of the muscle line with the x = 0 plane is used to find a point on the surface of the ellipsoid. The surface point is then used to determine the wrapping plane. </p><p>The axial method works best when the muscle line is nearly parallel to the chosen axis. The accuracy of the axial method decreases as the angle between the muscle line and the chosen axis increases. Therefore, the axial method automatically chooses the principal axis that is most parallel to the muscle line. This method produces a good result unless the &quot;most parallel&quot; axis happens to change during the range of motion of the muscle. In this situation a discontinuity in wrapping path will occur when the choice of axis switches from one principal axis to another. The hybrid method described above automatically detects when an axis switch is about to take place, and shifts its weighted average to favor the midpoint method to conceal the effect of the axis switch. If you are able to orient your wrap object such that muscles that wrap over it remain mostly parallel to the same axis throughout their range of motion, then the axial method will produce well-behaved wrapping paths.</p><div class="panel" style="background-color: white;border-color: gray;border-style: solid;border-width: 5px;"><div class="panelContent" style="background-color: white;">
<p>Next: <a href="Function%2BEditor.html">Function Editor</a></p><p>Previous: <a href="Muscle%2BEditor.html">Muscle Editor</a></p><p>Home: <a href="Model%2BEditing.html">Model Editing</a></p>
</div></div>
                    </div>

                                        <div class="pageSection group">
                        <div class="pageSectionHeader">
                            <h2 id="attachments" class="pageSectionTitle">Attachments:</h2>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/3376206/3737243.png">muscle-3.PNG</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/3376206/3737242.png">muscle-1.PNG</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/3376206/3737241.png">muscle-2.PNG</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/3376206/3737240.png">muscle-4.PNG</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/3376206/3737239.png">muscle-5.PNG</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/3376206/3737238.png">muscle-7.PNG</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/3376206/3737237.png">muscle-8.PNG</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/3376206/3737236.png">muscle-6.PNG</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/3376206/3737235.png">muscle-9.PNG</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/3376206/3737234.png">muscle-10.PNG</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/3376206/3737233.png">muscle-11.PNG</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/3376206/3737232.png">muscle-12.PNG</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/3376206/3737231.png">muscle-13.PNG</a> (image/png)
                                <br/>
                                                    </div>
                    </div>
                    
                                                      
                </div>             </div> 
            <div id="footer" style="background: url(http://simtk-confluence.stanford.edu:8080/images/border/border_bottom.gif) repeat-x;">
                <p><small>Document generated by Confluence on Feb 24, 2014 09:27</small></p>
            </div>
        </div>     </body>
</html>
