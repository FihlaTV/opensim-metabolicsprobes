<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>OpenSim Documentation : Getting Started with Inverse Dynamics</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body>
        <div id="page">
            <div id="main">
                <div id="main-header" class="pageSectionHeader">
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            OpenSim Documentation : Getting Started with Inverse Dynamics
                        </span>
                    </h1>

                    <div class="page-metadata">
                        <p>This page last changed on Oct 04, 2012 by <font color="#0050B2">jenhicks</font>.</p>
                    </div>
                </div>

                <div id="content" class="view">
                    <div id="main-content" class="wiki-content group">
                    <div class="wiki-content" style="margin-left: 0.0px;"><p>The Inverse Dynamics (ID) Tool determines the generalized forces (e.g., net forces and torques) at each joint responsible for a given movement. Given the kinematics (e.g., states or motion) describing the movement of a model and perhaps a portion of the kinetics (e.g., external loads) applied to the model, the ID Tool uses these data to perform an inverse dynamic analysis. Classical mechanics mathematically expresses the mass-dependent relationship between force and acceleration, <strong>F</strong> = m<strong>a</strong>, with equations of motion. The Inverse Dynamics Tool solves these equations, in the inverse dynamics sense, to yield the net forces and torques at each joint which produce the movement.</p><p>To launch the ID Tool, select <strong>Tools</strong> → <strong>Inverse Dynamics</strong> from the OpenSim main menu bar.</p><div><ul><li><a href="http://simtk-confluence.stanford.edu:8080/display/OpenSim/Inverse+Dynamics#InverseDynamics-Toc174781357Overview" rel="nofollow"><span class="confluence-anchor-link">Overview</span></a></li><li><a href="http://simtk-confluence.stanford.edu:8080/display/OpenSim/Inverse+Dynamics#InverseDynamics-Toc193528756SettingsFile" rel="nofollow"><span class="confluence-anchor-link">Settings File</span></a></li><li><a href="http://simtk-confluence.stanford.edu:8080/display/OpenSim/Inverse+Dynamics#InverseDynamics-Toc174781359Inputs" rel="nofollow"><span class="confluence-anchor-link">Inputs</span></a></li><li><a href="http://simtk-confluence.stanford.edu:8080/display/OpenSim/Inverse+Dynamics#InverseDynamics-Toc193528758Outputs" rel="nofollow"><span class="confluence-anchor-link">Outputs</span></a></li><li><a href="http://simtk-confluence.stanford.edu:8080/display/OpenSim/Inverse+Dynamics#InverseDynamics-BestPracticesandTroubleshooting" rel="nofollow">Best Practices and Troubleshooting</a></li></ul></div><h2 id="GettingStartedwithInverseDynamics-Overview">Overview</h2><p>This figure shows the required inputs and outputs for the Inverse Dynamics Tool.</p><p><img class="confluence-embedded-image" src="attachments/3376165/3736993.png" data-image-src="attachments/3376165/3736993.png"></p><p><strong>Inputs and Outputs of the Inverse Dynamics Tool.</strong> Experimental data are shown in <span style="color: rgb(0,204,153);">green</span>; OpenSim files (.osim) are shown in <span style="color: rgb(165,0,33);">red</span>; settings files are shown in <span style="color: rgb(51,102,255);">blue</span>; files generated by the workflow are shown in <span style="color: rgb(128,0,128);">purple</span>.</p><div class='panelMacro'><table class='infoMacro'><colgroup><col width='24'><col></colgroup><tr><td valign='top'><img src="images/icons/emoticons/information.png" width="16" height="16" align="absmiddle" alt="" border="0"></td><td><p>The file names are examples that can be found in the examples/Gait2354_Simbody directory installed with the OpenSim distribution.</p></td></tr></table></div><h2 id="GettingStartedwithInverseDynamics-SettingsFile">Settings File</h2><p>The <span style="color: rgb(51,102,255);"><strong>subject01_Setup_InverseDynamics.xml</strong></span> file is the setup file for the Inverse Dynamics Tool. It contains settings, as described in detail in <a href="http://simtk-confluence.stanford.edu:8080/display/OpenSim/How+to+Use+the+Inverse+Dynamics+Tool" rel="nofollow">How to Use the Inverse Dynamics Tool</a>.</p><h2 id="GettingStartedwithInverseDynamics-Inputs">Inputs</h2><p>Three data files are required as input by the Inverse Dynamics Tool:</p><p><span style="color: rgb(128,0,128);"><strong>subject01_walk1_ik.mot</strong></span>: Motion file containing the time histories of generalized coordinates that describe the movement of the model. This file could be generated by the Inverse Kinematics Tool, or manually. The file does not need to contain values for all coordinates. The coordinates that were not specified are assumed to have default values.</p><p><span style="color: rgb(0,204,153);"><strong>subject01_walk1_grf.xml</strong></span>: External load data (i.e., ground reaction forces, moments, and center of pressure location). Note that it is necessary to measure and apply or model all external forces acting on a subject during the motion to calculate accurate joint torques and forces. This file includes the name of the ground reaction force data file (e.g., subject01_grf.mot) as well as the names of the bodies to which they are applied. Options to specify the forces, points of application, and torques in a global or local body frame (relative to the body to which the force is being applied) are also defined here. Details are provided in <a href="http://simtk-confluence.stanford.edu:8080/display/OpenSim/How+to+Use+the+Inverse+Dynamics+Tool" rel="nofollow">How to Use the Inverse Dynamics Tool</a>.</p><p><span style="color: rgb(165,0,33);"><strong>subject01_simbody.osim</strong></span>: A subject-specific OpenSim model generated by scaling a generic model with the Scale Tool or by other means, along with an associated marker set containing adjusted virtual markers. The model must include inertial parameters. Note that forces such as contact, ligaments, bushings, and even muscles will be applied to the model based on the kinematic state of the model and defaults for the muscle states, unless these forces are specifically excluded in the calculation.</p><h2 id="GettingStartedwithInverseDynamics-Outputs">Outputs</h2><p>The Inverse Dynamics Tool generates a single file in a folder specified in the setup file:<br class="atl-forced-newline" /><span style="color: rgb(128,0,128);"><strong>subject01_walk1_InverseDynamics_force.sto</strong></span>: Storage file containing the time histories of the net joint torques and forces acting along the coordinate axes that produce the accelerations estimated (via double differentiation) from your measured experimental motion and the external forces applied.</p><h2 id="GettingStartedwithInverseDynamics-BestPracticesandTroubleshooting">Best Practices and Troubleshooting</h2><p><ol><li>Filter your raw coordinate data, since noise is amplified by differentiation. Without filtering, the calculated forces and torques will be very noisy.</li><li>Compare your results to data reported in the literature. Your results should be within one standard deviation of reported values.</li><li>Inspect results from Inverse Dynamics to check whether ground reaction forces were applied correctly or not. Are there large and unexpected forces at the pelvis? For gait, applying ground reaction forces should help reduce the forces computed by Inverse Dynamics at the pelvis.</li><li>See <a href="http://simtk-confluence.stanford.edu:8080/display/OpenSim/How+Inverse+Dynamics+Works">How Inverse Dynamics Works</a> and <a href="http://simtk-confluence.stanford.edu:8080/display/OpenSim/How+to+Use+the+Inverse+Dynamics+Tool">How to Use the Inverse Dynamics Tool</a> for more information about using the Inverse Dynamics Tool.</li></ol></p><div class="panel" style="background-color: white;border-color: gray;border-style: solid;border-width: 5px;"><div class="panelContent" style="background-color: white;">
<p>Next: <a href="How%2BInverse%2BDynamics%2BWorks.html">How Inverse Dynamics Works</a></p><p>Home: <a href="Inverse%2BDynamics.html">Inverse Dynamics</a></p>
</div></div></div>
                    </div>

                                        <div class="pageSection group">
                        <div class="pageSectionHeader">
                            <h2 id="attachments" class="pageSectionTitle">Attachments:</h2>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/3376165/3736993.png">InverseToolInputOutputDiagrams.png</a> (image/png)
                                <br/>
                                                    </div>
                    </div>
                    
                                                      
                </div>             </div> 
            <div id="footer" style="background: url(http://simtk-confluence.stanford.edu:8080/images/border/border_bottom.gif) repeat-x;">
                <p><small>Document generated by Confluence on Feb 24, 2014 09:27</small></p>
            </div>
        </div>     </body>
</html>
